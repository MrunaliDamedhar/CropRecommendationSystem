<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-translate="siteTitle">Prediction - Crop Recommendation</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/prediction.css') }}">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-logo">
      <img src="https://static.vecteezy.com/system/resources/thumbnails/035/460/086/small_2x/ai-generated-hands-holding-young-plant-sprout-free-png.png" alt="Logo" />
      <span id="site-title" data-translate="siteTitle">Crop Recommendation System</span>
    </div>
    <ul class="nav-links">
      <li><a href="{{ url_for('iconhome') }}" id="nav-home" data-translate="navHome">Home</a></li>
      <li><a href="{{ url_for('aboutus') }}" id="nav-about" data-translate="navAbout">About</a></li>
      <li><a href="{{ url_for('service') }}" id="nav-service" data-translate="navService">Services</a></li>
      <li><a href="{{ url_for('contact') }}" id="nav-contact" data-translate="navContact">Contact</a></li>
      <li><a href="{{ url_for('predict') }}" id="nav-back" data-translate="navBack">Back to Form</a></li>
    </ul>

    <!-- Language Selector -->
    <select id="language-select">
      <option value="en">English</option>
      <option value="hi">рд╣рд┐рдиреНрджреА</option>
      <option value="mr">рдорд░рд╛рдареА</option>
    </select>
  </nav>

  <!-- Prediction Result -->
  <main class="prediction-box">
    <h2 id="prediction-header" data-translate="predictionHeader">ЁЯМ┐ Based on your soil and climate inputs:</h2>
    <h1 class="result" id="prediction-result" data-translate="predictionResult">You should grow <span>{{ prediction }}</span></h1>

    <a href="{{ url_for('predict') }}">
      <button class="retry-btn" id="retry-btn" data-translate="retryBtn">ЁЯФД Try Another Prediction</button>
    </a>
  </main>

  <!-- Footer -->
  <footer id="footer-text" data-translate="footerText">
    ┬й 2025 Crop Recommendation System. All rights reserved.
  </footer>

  <!-- Language Switching Script -->
  <script>
    const translations = {
      en: {
        siteTitle: "Crop Recommendation System",
        navHome: "Home",
        navAbout: "About",
        navService: "Services",
        navContact: "Contact",
        navBack: "Back to Form",
        predictionHeader: "ЁЯМ┐ Based on your soil and climate inputs:",
        predictionResult: "You should grow <span>{{ prediction }}</span>",
        retryBtn: "ЁЯФД Try Another Prediction",
        footerText: "┬й 2025 Crop Recommendation System. All rights reserved."
      },
      hi: {
        siteTitle: "рдлрд╕рд▓ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдкреНрд░рдгрд╛рд▓реА",
        navHome: "рд╣реЛрдо",
        navAbout: "рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ",
        navService: "рд╕реЗрд╡рд╛рдПрдБ",
        navContact: "рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ",
        navBack: "рдлрд╛рд░реНрдо рдореЗрдВ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдБ",
        predictionHeader: "ЁЯМ┐ рдЖрдкрдХреА рдорд┐рдЯреНрдЯреА рдФрд░ рдореМрд╕рдо рдХреЗ рдЗрдирдкреБрдЯ рдХреЗ рдЖрдзрд╛рд░ рдкрд░:",
        predictionResult: "рдЖрдкрдХреЛ рдпрд╣ рдЙрдЧрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП <span>{{ prediction }}</span>",
        retryBtn: "ЁЯФД рдПрдХ рдФрд░ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЖрдЬрд╝рдорд╛рдПрдБ",
        footerText: "┬й 2025 рдлрд╕рд▓ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдкреНрд░рдгрд╛рд▓реА | рд╕рд░реНрд╡ рдЕрдзрд┐рдХрд╛рд░ рд╕реБрд░рдХреНрд╖рд┐рдд"
      },
      mr: {
        siteTitle: "рдкреАрдХ рд╢рд┐рдлрд╛рд░рд╕ рдкреНрд░рдгрд╛рд▓реА",
        navHome: "рдореБрдЦреНрдпрдкреГрд╖реНрда",
        navAbout: "рдЖрдордЪреНрдпрд╛рдмрджреНрджрд▓",
        navService: "рд╕реЗрд╡рд╛",
        navContact: "рд╕рдВрдкрд░реНрдХ",
        navBack: "рдлреЙрд░реНрдорд╡рд░ рдкрд░рдд рдЬрд╛",
        predictionHeader: "ЁЯМ┐ рдЖрдкрд▓реНрдпрд╛ рдорд╛рддреА рдЖрдгрд┐ рд╣рд╡рд╛рдорд╛рдирд╛рдЪреНрдпрд╛ рдЗрдирдкреБрдЯрдЪреНрдпрд╛ рдЖрдзрд╛рд░реЗ:",
        predictionResult: "рдЖрдкрдг рд╣реЗ рдкрд┐рдХрд╡рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ <span>{{ prediction }}</span>",
        retryBtn: "ЁЯФД рджреБрд╕рд░реА рд╢рд┐рдлрд╛рд░рд╕ рдкрд╣рд╛",
        footerText: "┬й 2025 рдкреАрдХ рд╢рд┐рдлрд╛рд░рд╕ рдкреНрд░рдгрд╛рд▓реА | рд╕рд░реНрд╡ рд╣рдХреНрдХ рд░рд╛рдЦреАрд╡"
      }
    };

    function changeLanguage(lang) {
      const t = translations[lang];
      document.querySelectorAll('[data-translate]').forEach(el => {
        const key = el.getAttribute('data-translate');
        if(el.tagName === 'INPUT') {
          el.value = t[key] || el.value;
        } else {
          el.innerHTML = t[key] || el.innerHTML; // use innerHTML to preserve <span> in prediction
        }
      });
      document.title = t.siteTitle;
      localStorage.setItem('siteLanguage', lang);
    }

    document.getElementById('language-select').addEventListener('change', function() {
      changeLanguage(this.value);
    });

    window.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('siteLanguage') || 'en';
      document.getElementById('language-select').value = savedLang;
      changeLanguage(savedLang);
    });
  </script>
</body>
</html>
